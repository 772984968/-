<?phpnamespace api\controllers;use Yii;use yii\extend\AdCommon;use lib\models\VipVideo;use lib\models\VideoList;class VipvideoController extends BasisController{    public function actionList()    {        $isNext = Yii::$app->getRequest()->post('isNext');        $userId = Yii::$app->factory->getuser()->userId;        $this->success(['list'=>VipVideo::list($userId,$isNext)]);    }    public function actionGetinfo()    {        $id = Yii::$app->getRequest()->post('id');        if(!$id) {            $this->error('请上传id');        }        $result = \lib\wyim\video::getinfo($id);        if($result)        {            $this->success($result);        }        else        {            $this->error('获取数据失败!');        }    }    //保存视频接口    public function actionSavevideo(){        $userModel=\Yii::$app->factory->getuser();        if ($userModel->vip_type!=5){            return $this->error('您不是VIP用户');        }        $data=\Yii::$app->request->post();        $cid=$data['cid'];        $filename=['filename'];        $type=$data['type'];        $videoListModel=VideoList::find()->where(['cid'=>$cid,'vedio_name'=>$filename])->limit(1)->one();        if ($videoListModel&&$type==0){            $videoListModel->delete();        }elseif ($videoListModel&&$type==1){            $videoListModel->user_id=$userModel->iid;        }    }}