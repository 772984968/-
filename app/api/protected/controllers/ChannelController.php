<?phpnamespace api\controllers;use Yii;use lib\models\Channel;use lib\channel\gift;//直播控制器class ChannelController extends BasisController{    public $formName = '\lib\forms\ChannelForm';    //创建直播频道    public function actionCreate()    {        parent::baseAction($this->formName, 'create');    }    //关闭直播频道    public function actionDelete()    {        parent::baseAction($this->formName, 'delete');    }    //真播列表    public function actionList()    {        $isNext = Yii::$app->getRequest()->post('isNext');        $userId = Yii::$app->factory->getuser()->userId;        Channel::$key_name = "at_channel.iid";        $result = Channel::list($userId, $isNext, 'userinfo', 10);                foreach ($result as $key => $row) {        }        $this->success(['list'=>$result]);    }    //赠送礼物    public function actionSendGifts()    {        $userId = Yii::$app->factory->getuser()->userId;        $rq = Yii::$app->getRequest();        $receiverId = intval($rq->post('receiverId'));  //接收者ID        $payType = intval($rq->post('payType'))+1;        //礼物类型        $payNumber = intval($rq->post('payNumber'));      //礼物数量        if($result = gift::send($userId, $receiverId, $payType, $payNumber)) {            $this->success(['diamond'=>$result]);        } else {            $this->error(gift::$error);        }    }}