<?phpnamespace api\controllers;use Yii;use lib\models\ActivityReward;use lib\activity\watch_live_box;//活动类class ActivityController extends BasisController{    public function actionWatchlive()    {        $userId = Yii::$app->factory->getuser()->userId;            }    //领取活动奖励    public function actionReceiveRewards()    {        $key = [            'watch_live' => 2,        ];        $type = Yii::$app->getRequest()->post('event');        ActivityReward::$userModel = Yii::$app->factory->getuser();        $rst = ActivityReward::get($type);        watch_live_box::$userModel = ActivityReward::$userModel;        $activity = watch_live_box::getUnused($key[$type]);        $wealth = watch_live_box::$userModel->getWealth();        $this->success(['rst'=>$rst,'activity'=>$activity,'wealth'=>$wealth]);    }    //激活一个奖励    public function actionActivation()    {        //$type = Yii::$app->getRequest()->post('event');        watch_live_box::$userModel = Yii::$app->factory->getuser();        $rst = watch_live_box::activation(2);        $this->success(['list'=>$rst]);    }    //活动列表    public function actionList()    {        $data = \lib\models\ActivityReward::find()                ->select('image,url,s_dt,e_dt,discription')                ->where('is_show=1')                ->orderBy('iid desc')                ->asArray()                ->all();        $this->success(['list'=>$data]);    }}