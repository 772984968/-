<?phpnamespace app\controllers;use yii\extend\AdCommon;use yii\web\Controller;use Yii;class UserController extends Controller{    public function actionCheckToken()    {        $userid = Yii::$app->getRequest()->post('userid');        $token = Yii::$app->getRequest()->post('token');        $cacheToken = Yii::$app->getCache()->get('token_'.$userid);        if($cacheToken && $cacheToken == $token) {            $this->success();        } else {            $this->error('error');        }    }    public static function success($data='',$message = 'ok')    {        header('Content-type: application/json');        if( empty($data) ) {            $data = new stdClass();        }        echo json_encode(['code'=>200,'message'=>$message,'data'=>$data]);        /*// 记录结束时间        $time_end = getmicrotime();        $time = $time_end - $GLOBALS['time_start'];        // 输出运行总时间        echo "执行时间 $time seconds";*/        die;    }    /**     * @desc 发送失败的json数据     * @param type $data 数据     * @return type     */    public static function error($model = '',$code = 400)    {        header('Content-type: application/json');        if( is_string($model) or is_null($model) ) {            $msg = $model;        } else {            $msg = self::modelMessage($model->errors);        }        $data = new stdClass();        echo json_encode(['code'=>$code,'message'=>$msg,'data'=>$data]);        die;    }}class stdClass{};