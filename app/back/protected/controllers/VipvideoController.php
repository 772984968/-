<?phpnamespace app\controllers;use yii\web\Controller;use Yii;class VipvideoController extends Controller{    //下载数据    public function actionDown()    {        set_time_limit(0);        //取出自己最大的ID记录        $videoModel = \lib\models\VipVideo::find()->orderBy('id DESC')->asArray()->one();        $id = $videoModel->id ?? 0;        while(true)        {            $result = Yii::$app->dbcn->createCommand("SELECT * FROM vip_video WHERE id>$id ORDER BY id ASC LIMIT 20")->queryAll();            if($result) {                foreach($result as $row) {                    $sql = "INSERT INTO vip_video(id,title,description,price,vip_price,cover,thumbnail,wy_name,wy_vid,upload_status)  VALUES('{$row["id"]}','{$row["title"]}','{$row["description"]}','{$row["price"]}',  '{$row["vip_price"]}','{$row["cover_string"]}','{$row["thumbnail_json"]}','{$row["wy_name"]}','{$row["wy_vid"]}',1)";                    Yii::$app->dbyh->createCommand($sql)->execute();                    $id = $row['id'];                }            } else {                break;            }        }    }}