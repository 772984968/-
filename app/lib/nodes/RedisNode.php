<?phpnamespace lib\nodes;use Yii;class RedisNode{    //检测列表，一定时间内的数量    public static function listCountCheck($key, $max=3, $time=300)    {        $redis = Yii::$app->redis;        $len = $redis->llen($key);        if($len >= $max) {            $last_time =  $redis->lindex($key,-1);            if(time()-$last_time <= $time) {                return false;            } else {                $redis->rpop($key);            }        }        return true;    }    //检测最近一次操作，是否在一定时间内    public static function listFirstCheck($key, $time=60)    {        $redis = Yii::$app->redis;        $len = $redis->llen($key);        if($len >= 1) {            $last_time =  $redis->lindex($key,0);            if(time()-$last_time <= $time) {                return false;            }        }        return true;    }}