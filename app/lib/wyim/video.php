<?phpnamespace lib\wyim;use Yii;use yii\VideoCloud\Storage\UploadManager;//视频class video extends wy{    //删除视频    public static function delete($vid)    {        static::$url = 'https://vcloud.163.com/app/vod/video/videoDelete';        return static::sendJson([            'vid' => $vid,        ]);    }    //设置视频分类    public static function setVideoType($vid, $typeId)    {        static::$url = 'https://vcloud.163.com/app/vod/type/set';        return static::sendJson([            'vid' => $vid,            'typeId' => $typeId,        ]);    }    //创建分类    public static function createType($typeName, $description)    {        static::$url = 'https://vcloud.163.com/app/vod/type/create';        $result = static::sendJson([            'typeName' => $typeName,            'description' => $description,        ]);        if($result) {            return $result->ret->typeId;        } else {            return false;        }    }    //修改视频分类    public static function updateType($typeId, $typeName, $description)    {        static::$url = 'https://vcloud.163.com/app/vod/type/update';        $result =  static::sendJson([            'typeId' => $typeId,            'typeName' => $typeName,            'description' => $description,        ]);        return $result ? true : false;    }    //删除视频分类    public static function deleteType($typeId)    {        static::$url = 'https://vcloud.163.com/app/vod/type/typeDelete';        $result =  static::sendJson([            'typeId' => $typeId,        ]);        return $result ? true : false;    }    //取视频信息    public static function getinfo($vid)    {        static::$url = 'https://vcloud.163.com/app/vod/video/get';        return static::sendJson([            'vid' => $vid,        ]);    }    //上传视频    public static function upload($file)    {        $functionFile = dirname(ROOT,2).DIRECTORY_SEPARATOR.'frame'.DIRECTORY_SEPARATOR.'VideoCloud'.DIRECTORY_SEPARATOR.'functions.php';        include($functionFile);        $uploadMgr = new UploadManager();        $opt=array();        $opt["accessKey"]= Yii::$app->params['wy_app_key'];        $opt["secretKey"]= Yii::$app->params['wy_app_secret'];        $opt["trunkSize"]= 2 * 1024 * 1024;        list($ret, $err) = $uploadMgr->init($opt, $file);        if ($err !== null) {            return false;        }        list($ret, $err) = $uploadMgr->upload($opt,$ret['ret'],$file);        if ($err !== null) {            return false;        } else {            return $ret;        }    }}